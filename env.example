# PostgreSQL and pgAdmin ports
DB_PORT=5432          # Exposes PostgreSQL database on this port
PGADMIN_PORT=8080     # Exposes pgAdmin web UI on this port

# Nostr keypair
SECRET_KEY=           # Your private key for signed requests (64 hex chars)
PUBLIC_KEY=           # Your public identity on Nostr (64 hex chars)

# PostgreSQL configuration
POSTGRES_USER=admin                     # Username for the database
POSTGRES_PASSWORD=CHANGE_ME_use_strong_password_here  # Password for the database (REQUIRED: change before deployment!)
POSTGRES_DB=bigbrotr                    # Name of the database
POSTGRES_PORT=5432                      # PostgreSQL internal port
POSTGRES_DB_DATA_PATH=./data            # Path to persist database data
POSTGRES_DB_INIT_PATH=./init.sql        # Path to initial SQL setup
POSTGRES_CONFIG_PATH=./postgresql.conf  # Path to custom PostgreSQL configuration file

# PgBouncer configuration
PGBOUNCER_PORT=6432                     # PgBouncer connection pooling port
PGBOUNCER_ADMIN_PASSWORD=CHANGE_ME_use_strong_password_here  # Admin password for PgBouncer (REQUIRED: change before deployment!)

# pgAdmin configuration
PGADMIN_DEFAULT_EMAIL=admin@example.com    # Login email for pgAdmin
PGADMIN_DEFAULT_PASSWORD=CHANGE_ME_use_strong_password_here  # Login password for pgAdmin (REQUIRED: change before deployment!)

# Initializer
SEED_RELAYS_PATH=./seed_relays.txt    # File containing the initial list of relays to monitor

# Finder service
FINDER_FREQUENCY_HOUR=8         # How often (in hours) to run the finder service
FINDER_REQUEST_TIMEOUT=20       # Timeout for requests made when discovering new relays

# Monitor service
MONITOR_FREQUENCY_HOUR=8        # How often to run the monitoring routine
MONITOR_NUM_CORES=8             # Number of CPU cores to use
MONITOR_CHUNK_SIZE=50           # Number of relays monitored per core
MONITOR_REQUESTS_PER_CORE=10    # Relay monitors made in parallel per core
MONITOR_REQUEST_TIMEOUT=20      # Timeout for each relay monitor
MONITOR_LOOP_INTERVAL_MINUTES=15  # Sleep interval between monitor loops (default: 15)
MONITOR_DB_MIN_POOL=2           # Minimum database connections per worker (default: 2)
MONITOR_DB_MAX_POOL=5           # Maximum database connections per worker (default: 5)
MONITOR_DB_COMMAND_TIMEOUT=60   # Database command timeout in seconds (default: 60)

# Synchronizer service
SYNCHRONIZER_NUM_CORES=8             # Number of CPU cores to use for synchronizer
SYNCHRONIZER_REQUESTS_PER_CORE=10    # Relay synchronizations made in parallel per core
SYNCHRONIZER_REQUEST_TIMEOUT=20      # Timeout for each relay synchronization
SYNCHRONIZER_START_TIMESTAMP=0       # Start time for sync (0 = from beginning)
SYNCHRONIZER_STOP_TIMESTAMP=-1       # End time (-1 = now)
SYNCHRONIZER_EVENT_FILTER={}         # Optional event filtering as JSON (e.g., {"kinds": [0, 1]})
SYNCHRONIZER_PRIORITY_RELAYS_PATH=./priority_relays.txt  # File containing priority relays for synchronization
SYNCHRONIZER_RELAY_METADATA_THRESHOLD_HOURS=12  # Only sync relays with metadata fresher than this (default: 12)
SYNCHRONIZER_LOOP_INTERVAL_MINUTES=15  # Sleep interval between synchronizer loops (default: 15)
SYNCHRONIZER_BATCH_SIZE=500          # Number of events to fetch per pagination request (default: 500)
SYNCHRONIZER_DB_MIN_POOL=2           # Minimum database connections per worker (default: 2)
SYNCHRONIZER_DB_MAX_POOL=5           # Maximum database connections per worker (default: 5)
SYNCHRONIZER_DB_COMMAND_TIMEOUT=60   # Database command timeout in seconds (default: 60)

# Priority Synchronizer service
PRIORITY_SYNCHRONIZER_NUM_CORES=8          # Number of CPU cores to use for priority synchronizer