# ====================
# Lilbrotr Configuration
# ====================
# Copy this file to .env and customize for your deployment
# Lilbrotr is optimized for low-resource environments

# Brotr Implementation Mode
BROTR_MODE=lilbrotr

# PostgreSQL Configuration
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_secure_password_here
POSTGRES_DB=lilbrotr
DB_PORT=5432

# PostgreSQL Paths (relative to docker-compose.yml location)
POSTGRES_DB_DATA_PATH=./data/postgres
POSTGRES_DB_INIT_PATH=../../implementations/lilbrotr/sql/init.sql
POSTGRES_CONFIG_PATH=../../postgresql.conf

# PgBouncer Configuration
PGBOUNCER_PORT=6432
PGBOUNCER_USER=pgbouncer
PGBOUNCER_PASSWORD=pgbouncer_password

# PgAdmin Configuration
PGADMIN_DEFAULT_EMAIL=admin@lilbrotr.local
PGADMIN_DEFAULT_PASSWORD=admin
PGADMIN_PORT=5050

# Nostr Configuration
NOSTR_PRIVATE_KEY=your_nostr_private_key_hex_here
NOSTR_PUBLIC_KEY=your_nostr_public_key_hex_here

# TorProxy Configuration
TORPROXY_HOST=torproxy
TORPROXY_PORT=9050

# Health Check Configuration
HEALTH_CHECK_PORT=8000

# Synchronizer Configuration (reduced for low resources)
SYNCHRONIZER_ENABLED=true
SYNCHRONIZER_BATCH_SIZE=500         # Reduced for lower resource usage
SYNCHRONIZER_RATE_LIMIT=20          # Lower rate limit
SYNCHRONIZER_TIMEOUT=60
SYNCHRONIZER_START_TIMESTAMP=-1
SYNCHRONIZER_STOP_TIMESTAMP=-1
SYNCHRONIZER_NUM_CORES=1            # Reduced cores
SYNCHRONIZER_REQUESTS_PER_CORE=3    # Fewer concurrent requests

# Priority Synchronizer Configuration
PRIORITY_SYNCHRONIZER_ENABLED=true
PRIORITY_SYNCHRONIZER_BATCH_SIZE=500
PRIORITY_SYNCHRONIZER_NUM_CORES=1
PRIORITY_SYNCHRONIZER_REQUESTS_PER_CORE=2

# Monitor Configuration (reduced for low resources)
MONITOR_ENABLED=true
MONITOR_BATCH_SIZE=50               # Smaller batches
MONITOR_CHUNK_SIZE=3                # Fewer parallel workers
MONITOR_TIMEOUT=10
MONITOR_NUM_CORES=1

# Finder Configuration
FINDER_ENABLED=false
FINDER_RELAYS=wss://relay.example.com,wss://relay2.example.com
FINDER_KINDS=30066

# Initializer Configuration
INITIALIZER_SEED_RELAYS_PATH=../../seed_relays.txt
INITIALIZER_PRIORITY_RELAYS_PATH=../../priority_relays.txt

# Logging Configuration
LOG_LEVEL=INFO

